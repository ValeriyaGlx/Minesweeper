(()=>{var e={90:()=>{document.body.innerHTML='\n<div class="container">\n<div class="minesweeper">\n    <header class="header">\n        <ul class="header-list">\n            <li class="header-list_li game-settings">–ù–æ–≤–∞—è –∏–≥—Ä–∞</li>\n            <li class="header-list_li game-rules">–ö–∞–∫ –∏–≥—Ä–∞—Ç—å?</li>\n            <li class="header-list_li game-results">–†–µ–∑—É–ª—å—Ç–∞—Ç—ã</li>\n        </ul>\n    </header>\n    <main class="main">\n        <section class="flags">\n            <div class="flag-mines">00</div>\n            <button class="flag-smile">üòµ</button>\n            <div class="flag-time">000</div>\n        </section>\n        <section class="play-field">\n            <div class="canvas"></div>\n        </section>\n    </main>\n    <footer class="footer">\n        <ul class="footer-list">\n            <li class="footer-list_li">\n            <button class="theme">–¢–µ–º–∞</button>\n            </li>\n            <li class="footer-list_li amount">–û—Å—Ç–∞–ª–æ—Å—å –º–∏–Ω: 10/10</li>\n            <li class="footer-list_li">\n            <button class="sound">–ó–≤—É–∫\n            <div class=\'not-sound\'></div\n            </button>\n            </li>\n        </ul>\n    </footer>\n</div>\n</div>\n'}},t={};function n(l){var i=t[l];if(void 0!==i)return i.exports;var s=t[l]={exports:{}};return e[l](s,s.exports,n),s.exports}(()=>{"use strict";n(90);const e=[{title:"ckick-left",src:"../src/sounds/click-left.mp3"},{title:"click-rigth",src:"../src/sounds/click-right.mp3"},{title:"mine",src:"../src/sounds/mine.mp3"},{title:"new-game",src:"../src/sounds/new-game.mp3"},{title:"win",src:"../src/sounds/win.mp3"}],t=new Audio;function l(n){n.target.classList.contains("opened-mine")?t.src=e[2].src:t.src=e[0].src;const l=t.play();void 0!==l&&l.then((e=>{})).catch((e=>{}))}t.volume=0,t.currentTime=0,t.autoplay="false";const i=document.querySelector(".canvas");let s=[],o=[];const c=new class{finalClicks=0;constructor(){this.time=0,this.clicks=0}isChecked=!1;tick(e){return this.interval=setInterval((()=>{this.time+=1,e.textContent=(this.time+"").padStart(3,"0")}),1e3)}pause(){clearInterval(this.interval)}stopTimer(e){clearInterval(this.interval),this.time=0,e.textContent=(this.time+"").padStart(3,"0")}firstClick(e){return this.clicks=1,e.textContent=(this.clicks+"").padStart(2,"0"),this.clicks}countClicks(e){return this.clicks+=1,e.textContent=(this.clicks+"").padStart(2,"0"),this.finalClicks=this.clicks,this.clicks}resetClicks(e){return this.clicks=0,e.textContent=(this.clicks+"").padStart(2,"0"),this.clicks}changeTheme(){return this.isChecked?(document.body.removeAttribute("body",""),this.isChecked=!1):(document.body.setAttribute("body",""),this.isChecked=!0),this.isChecked}};function r(n,a){const d=i.children,u=[],m=[];c.firstClick(document.querySelector(".flag-mines")),document.querySelector(".flag-smile").textContent="üòÉ";for(let e of d)e.removeEventListener("click",r),e.addEventListener("click",g),e.addEventListener("click",(e=>{l(e)})),u.push(+e.id);for(let e=0;e<u.length;e+=Math.sqrt(u.length))m.push(u.slice(e,e+Math.sqrt(u.length)));function g(){return c.countClicks(document.querySelector(".flag-mines")),document.querySelector(".flag-smile").textContent="üò¨",setTimeout((()=>document.querySelector(".flag-smile").textContent="üòÉ"),250),c.clicks}function h(e,t){(function(e){const t=e;let n,l;for(let e=0;e<m.length;e++)for(let i=0;i<m[e].length;i++)m[e][i]===t&&(n=e,l=i);return[m[n+1]?m[n+1][l]:void 0,m[n-1]?m[n-1][l]:void 0,m[n][l+1]?m[n][l+1]:void 0,m[n][l-1]?m[n][l-1]:void 0,m[n+1]?m[n+1][l+1]:void 0,m[n-1]?m[n-1][l-1]:void 0,m[n+1]?m[n+1][l-1]:void 0,m[n-1]?m[n-1][l+1]:void 0].filter((e=>void 0!==e||!isNaN(e)))})(t).forEach((t=>{document.getElementById(t).classList.contains("opened-unit")||(0!==a[t]&&"X"!==a[t]&&f(t),0===a[t]&&(document.getElementById(t).textContent="",y(t),h(e,t)))}))}function y(e){document.getElementById(e).classList.contains("flag-btn")||(document.getElementById(e).classList.add("opened-unit"),document.getElementById(e).disabled=!0)}function f(e){if(!document.getElementById(e).classList.contains("flag-btn"))switch(document.getElementById(e).textContent=a[e],y(e),a[e]){case 0:document.getElementById(e).textContent="";break;case 1:document.getElementById(e).style.color="blue";break;case 2:document.getElementById(e).style.color="green";break;case 3:document.getElementById(e).style.color="red";break;case 4:document.getElementById(e).style.color="#000085";break;case 5:document.getElementById(e).style.color="#850000";break;case 6:document.getElementById(e).style.color="#008385";break;case 7:document.getElementById(e).style.color="#850085";break;case 8:document.getElementById(e).style.color="#757575";break;case"X":document.getElementById(e).textContent="",document.getElementById(e).classList.add("opened-mine");break;default:document.getElementById(e).style.color="black"}}!function(e){a[e.target.id]>=100&&(a[e.target.id]=a[e.target.id]-100),document.getElementById(e.target.id).classList.contains("flag-btn")||(0!==a[e.target.id]?("X"===a[e.target.id]&&(document.getElementById(e.target.id).style.backgroundColor="red",function(){for(let e of d)f(e.id);c.pause(),setTimeout((()=>{document.querySelector(".flag-smile").textContent="üòµ"}),260),s.length>=10&&(s.shift(),o.shift()),s.push("üíÄ"),o.push("üí£")}()),f(e.target.id)):(document.getElementById(e.target.id).textContent="",h(e,+e.target.id)),y(+e.target.id))}(n),function(){let n=[];const l=document.querySelectorAll(".opened-unit"),i=document.querySelector(".mines-amount");if(l.forEach((e=>n.push(+e.id))),window.addEventListener("beforeunload",(function(){localStorage.setItem("arrayOpened",JSON.stringify(n))})),n.length===u.length-i.value){setTimeout((()=>{!function(){t.src=e[4].src;const n=t.play();void 0!==n&&n.then((e=>{})).catch((e=>{}))}()}),100),function(){const e=document.createElement("div");e.className="message",e.textContent=`–í—ã –≤—ã–∏–≥—Ä–∞–ª–∏! –í—Ä–µ–º—è: ${c.time} –ö–ª–∏–∫–∏: ${c.finalClicks+1}`,s.length>=10&&(s.shift(),o.shift()),s.push(c.time),o.push(c.finalClicks+1),document.querySelector(".main").appendChild(e),c.pause(),setTimeout((()=>{document.querySelector(".flag-smile").textContent="üòú"}),260),c.finalClicks=0}();for(let e of d)e.classList.contains("opened-unit")||e.classList.add("flag-btn")}}()}window.addEventListener("beforeunload",(function(){localStorage.setItem("time",JSON.stringify(s)),localStorage.setItem("clicks",JSON.stringify(o))})),window.addEventListener("load",(function(){localStorage.getItem("time")&&(s=JSON.parse(localStorage.getItem("time")),o=JSON.parse(localStorage.getItem("clicks")))}));const a=document.querySelector(".canvas");let d=a.children;class u{uploadMatrix=[];constructor(e,t=10){this.units=e,this.mines=t}array=Array(d.length).fill(0);fieldLength=Math.sqrt(d.length);matrix=[];firstUnit(e){return this.array[e]=100,this.array}getRandomNumber(){return Math.floor(Math.random()*d.length)}getMinesOnField(){const e=[...this.array];for(let t=0;t<this.mines;t++){let n=this.getRandomNumber();n[t]===n[t+1]&&(n[t+1],this.getRandomNumber()),0===e[n]&&100!==e[n]?e[n]="X":t--}return this.array=e,this.array}makeMatrix(){const e=this.getMinesOnField(),t=Math.sqrt(d.length);for(let n=0;n<e.length;n+=t)this.matrix.push(e.slice(n,n+t));return this.matrix}makeNumbers(){const e=this.makeMatrix().slice();for(let t=0;t<e.length;t++){for(let n=0;n<e[t].length;n++)"X"===e[t][n]&&(e[t-1]&&"X"!==e[t-1][n]&&e[t-1][n]++,e[t]&&"X"!==e[t][n+1]&&e[t][n+1]++,e[t]&&"X"!==e[t][n-1]&&e[t][n-1]++,e[t+1]&&"X"!==e[t+1][n]&&e[t+1][n]++,e[t-1]&&"X"!==e[t-1][n+1]&&e[t-1][n+1]++,e[t-1]&&"X"!==e[t-1][n-1]&&e[t-1][n-1]++,e[t+1]&&"X"!==e[t+1][n+1]&&e[t+1][n+1]++,e[t+1]&&"X"!==e[t+1][n-1]&&e[t+1][n-1]++);e[t].filter((e=>!Number.isNaN(e))),e[t].length=this.fieldLength}return this.matrix=e.reduce((function(e,t){return e.concat(t)}),[]),this.matrix=this.matrix.filter((e=>!Number.isNaN(e))),this.matrix}getLocalStorage(){if(localStorage.getItem("arrayMatrix"))return this.matrix=JSON.parse(localStorage.getItem("arrayMatrix")),this.mines=localStorage.getItem("mines"),this.matrix}}function m(){for(;a.firstChild;)a.removeChild(a.firstChild)}function g(n=100){for(let x=0;x<n;x++){const L=document.createElement("button");L.className="unit",L.setAttribute("id",x),a.appendChild(L)}let i=10;const s=document.querySelector(".mines-amount"),o=document.querySelectorAll("input[name=level]");let m=document.querySelector("input[name=level]:checked");if(m){function q(){localStorage.setItem("levelId",m.id)}window.addEventListener("beforeunload",q)}if(s){function I(e){"light"===e.target.id&&(s.value=10),"middle"===e.target.id&&(s.value=40),"hard"===e.target.id&&(s.value=99)}function w(){localStorage.setItem("mines",s.value)}s.value<10&&(s.value=10),s.value>99&&(s.value=99),window.addEventListener("beforeunload",w),o.forEach((e=>e.addEventListener("input",I))),i=s.value,document.querySelector(".amount").innerHTML=`–û—Å—Ç–∞–ª–æ—Å—å –º–∏–Ω: ${i}/${i}`}d=a.querySelectorAll(".unit");const g=new u(n,i);let f;function p(e){c.tick(document.querySelector(".flag-time")),g.firstUnit(+e.target.id),f=localStorage.getItem("arrayMatrix")?g.getLocalStorage():g.makeNumbers(),d.forEach((e=>e.removeEventListener("click",p))),l(e),window.addEventListener("beforeunload",(function(){localStorage.setItem("arrayMatrix",JSON.stringify(f))}))}window.addEventListener("load",g.getLocalStorage);let v=[],S=[];function b(n){n.preventDefault(),document.getElementById(n.target.id).classList.toggle("flag-btn"),function(){t.src=e[1].src;const n=t.play();void 0!==n&&n.then((e=>{})).catch((e=>{}))}(),function(e){e.target.classList.contains("flag-btn")?C--:C++,k.innerHTML=`–û—Å—Ç–∞–ª–æ—Å—å –º–∏–Ω: ${C}/${E}`}(n),function(e){if(e.target.classList.contains("flag-btn"))y.push(+e.target.id);else{const t=y.indexOf(e.target.id);y.splice(t,1)}}(n)}window.addEventListener("load",(function(){localStorage.getItem("arrayMatrix")&&(f=JSON.parse(localStorage.getItem("arrayMatrix")),v=JSON.parse(localStorage.getItem("arrayOpened")),m=localStorage.getItem("levelId"),S=JSON.parse(localStorage.getItem("arrayFlags")))})),window.addEventListener("load",(function(){const e=g.getLocalStorage(),t=document.getElementById(m),n=a.children;t&&(t.checked=!0),h();for(let l=0;l<n.length;l++)for(let i=0;i<S.length;i++)n[l].id==S[i]&&(n[l].classList.toggle("flag-btn"),console.log(n[l]));for(let s=0;s<n.length;s++)for(let o=0;o<v.length&&n.length!==v.length;o++)if(n[s].id==v[o]){function c(){switch(g.matrix[s]){case 0:n[s].textContent="";break;case 1:n[s].textContent="1",n[s].style.color="blue";break;case 2:n[s].textContent="2",n[s].style.color="green";break;case 3:n[s].textContent="3",n[s].style.color="red";break;case 4:n[s].textContent="4",n[s].style.color="#000085";break;case 5:n[s].textContent="5",n[s].style.color="#850000";break;case 6:n[s].textContent="6",n[s].style.color="#008385";break;case 7:n[s].textContent="7",n[s].style.color="#850085";break;case 8:n[s].textContent="8",n[s].style.color="#757575";break;case"X":n[s].textContent="",n[s].classList.add("opened-mine");break;default:n[s].style.color="black"}}n[s].classList.add("opened-unit"),n[s].disabled=!0,c()}return e})),d.forEach((e=>e.addEventListener("click",p))),d.forEach((e=>e.addEventListener("click",(e=>{r(e,g.matrix)})))),d.forEach((e=>e.addEventListener("contextmenu",b))),625===n&&document.querySelectorAll(".unit").forEach((e=>{e.style.width="17.3px",e.style.height="17.3px",e.style.fontSize="14px"}));const k=document.querySelector(".amount"),E=i;let C=E;return function(){t.autoplay="false",t.src=e[3].src;const n=t.play();void 0!==n&&n.then((e=>{})).catch((e=>{}))}(),f}function h(){document.querySelector(".message")&&function(){const e=document.querySelector(".message");document.querySelector(".main").removeChild(e)}();const e=document.querySelector('input[name="level"]:checked'),t=document.querySelector(".minesweeper");c.stopTimer(document.querySelector(".flag-time")),c.resetClicks(document.querySelector(".flag-mines")),"light"===e.id&&(t.style.width="315px",m(),g(100)),"middle"===e.id&&(t.style.width="440px",m(),g(225)),"hard"===e.id&&(t.style.width="500px",m(),g(625))}g();const y=[];window.addEventListener("beforeunload",(function(){localStorage.setItem("arrayFlags",JSON.stringify(y))}));const f=document.querySelector(".header");let p;function v(e){const t=e;if(document.querySelector(".flag-smile").textContent="üòµ",window.addEventListener("click",k),"visible"!==t.style.visibility)t.style.visibility="visible",t.style.opacity=1;else if(t.style.visibility="hidden",t.style.opacity=0,e===document.querySelector(".settings")){window.removeEventListener("click",k);const e=document.querySelector(".mines-amount").value;document.querySelector(".amount").innerHTML=`–û—Å—Ç–∞–ª–æ—Å—å –º–∏–Ω: ${e}/${e}`}}function S(e){const t=document.querySelector(".rules"),n=document.querySelector(".game-rules"),l=e.composedPath().includes(t),i=e.composedPath().includes(n);l||i||(t.style.visibility="hidden",t.style.opacity=0)}function b(e){const t=document.querySelector(".resulsts"),n=document.querySelector(".game-results"),l=e.composedPath().includes(t),i=e.composedPath().includes(n);l||i||(t.style.visibility="hidden",t.style.opacity=0)}function k(e){const t=document.querySelector(".settings"),n=document.querySelector(".game-settings"),l=e.composedPath().includes(t),i=e.composedPath().includes(n);if(!l&&!i){t.style.visibility="hidden",t.style.opacity=0,h();const e=document.querySelector(".mines-amount").value;p=e,document.querySelector(".amount").innerHTML=`–û—Å—Ç–∞–ª–æ—Å—å –º–∏–Ω: ${p}/${e}`,window.removeEventListener("click",k)}}function E(){localStorage.removeItem("arrayMatrix"),localStorage.removeItem("arrayOpened"),localStorage.removeItem("arrayFlags")}document.querySelector(".game-settings").addEventListener("click",E),document.querySelector(".flag-smile").addEventListener("click",E),function(){const e=document.createElement("div");e.className="settings",f.appendChild(e);for(let t=0;t<3;t++){const n=["–õ–µ–≥–∫–∏–π","–°—Ä–µ–¥–Ω–∏–π","–°–ª–æ–∂–Ω—ã–π"],l=["light","middle","hard"],i=document.createElement("input"),s=document.createElement("label");i.setAttribute("type","radio"),i.setAttribute("name","level"),i.setAttribute("id",l[t]),s.setAttribute("for",l[t]),e.appendChild(s),e.appendChild(i),s.textContent=n[t],s.className="settings_label",i.className="settings_input"}document.querySelector(".settings_input").checked=!0;const t=document.createElement("div");t.className="separator",e.appendChild(t);const n=document.createElement("label");n.textContent="–ú–∏–Ω—ã (10-99):",e.appendChild(n),n.className="mines";const l=document.createElement("input");l.className="mines-amount",l.setAttribute("type","number"),l.setAttribute("min","10"),l.setAttribute("max","99"),l.setAttribute("value","10"),n.appendChild(l)}(),function(){const e=document.createElement("div");e.className="rules",f.appendChild(e);const t=document.createElement("h1");e.appendChild(t),t.className="rules-inner",t.textContent="–°–∞–ø—ë—Ä. –ü—Ä–∞–≤–∏–ª–∞ –∏–≥—Ä—ã.";const n=["<b>–û—Ç–∫—Ä–æ–π—Ç–µ –≤—Å–µ —è—á–µ–π–∫–∏,<br/> –Ω–µ –ø–æ–¥–æ—Ä–≤–∞–≤—à–∏—Å—å –Ω–∞ –º–∏–Ω–µ.</b>","–¶–∏—Ñ—Ä–∞ –≤ —è—á–µ–π–∫–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, <br/> —Å–∫–æ–ª—å–∫–æ –º–∏–Ω —Ä—è–¥–æ–º —Å –Ω–µ–π.","–ö–ª–∏–∫ –ø—Ä–∞–≤–æ–π –∫–Ω–æ–ø–∫–æ–π –º—ã—à–∏ –≤—ã—Å—Ç–∞–≤–ª—è–µ—Ç <b>—Ñ–ª–∞–≥</b> –Ω–∞ —è—á–µ–π–∫—É, –≥–¥–µ, <br/> –ø–æ –≤–∞—à–µ–º—É –º–Ω–µ–Ω–∏—é, –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –º–∏–Ω–∞.","–í —ç—Ç–æ–º —Å–ª—É—á–∞–µ, —è—á–µ–π–∫—É –Ω–µ–ª—å–∑—è <br/> –±—É–¥–µ—Ç –æ–∫—Ç—Ä—ã—Ç—å,<br/> –∏ –≤—ã –Ω–µ –ø–æ–¥–æ—Ä–≤–µ—Ç–µ—Å—å –Ω–∞ –º–∏–Ω–µ.","–¢—Ä–µ—Ç–∏–π –∫–ª–∏–∫ —É–±–∏—Ä–∞–µ—Ç –≤—Å–µ –º–∞—Ä–∫–µ—Ä—ã <br/> –∏ —è—á–µ–π–∫—É —Å–Ω–æ–≤–∞ –º–æ–∂–Ω–æ –æ—Ç–∫—Ä—ã–≤–∞—Ç—å.","<b> –£–¥–∞—á–∏! üôÇ</b>"];for(let t=0;t<6;t++){const l=document.createElement("p");e.appendChild(l),l.className="rules_p",l.innerHTML=n[t],e.appendChild(l)}window.addEventListener("click",S)}(),function(){const e=document.createElement("div");e.className="resulsts",f.appendChild(e);const t=document.createElement("ol");e.appendChild(t);for(let e=0;e<10;e++){const n=document.createElement("li");t.appendChild(n),n.innerHTML=`${e+1}.   –í—Ä–µ–º—è: <span id='time'>0</span>   K–ª–∏–∫–∏: <span id='clicks'>0</span> `}window.addEventListener("click",b)}();const C=document.querySelector(".game-settings"),x=document.querySelector(".game-rules"),L=document.querySelector(".game-results"),q=document.querySelector(".flag-smile");C.addEventListener("click",v.bind(null,document.querySelector(".settings"))),x.addEventListener("click",v.bind(null,document.querySelector(".rules"))),L.addEventListener("click",v.bind(null,document.querySelector(".resulsts"))),q.addEventListener("click",h),C.addEventListener("click",h),document.querySelector(".theme").addEventListener("click",c.changeTheme),document.querySelector(".sound ").addEventListener("click",(e=>{!function(e){(e.target.childNodes[1]||document.querySelector(".not-sound")).classList.contains("not-sound")?t.volume=.75:t.volume=0,document.querySelector(".sound div").classList.toggle("not-sound")}(e)})),document.querySelector(".game-results").addEventListener("click",(function(){const e=document.querySelectorAll("#time"),t=document.querySelectorAll("#clicks");for(let n=0;n<s.length;n++)e[n].textContent=s[n],t[n].textContent=o[n]}))})()})();